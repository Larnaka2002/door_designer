{% extends 'base.html' %}

{% block title %}–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–≤–µ—Ä–µ–π{% endblock %}

{% block content %}
<div class="header">
    <h1>üö™ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ü–∞—Ä–≥–æ–≤—ã—Ö –¥–≤–µ—Ä–µ–π</h1>
</div>

<div class="main-container">
    <div class="control-panel">

        <div class="section">
            <h2 class="section-title">–†–∞–∑–º–µ—Ä—ã –ø–æ–ª–æ—Ç–Ω–∞</h2>
            <div class="input-group">
                <label for="doorWidth">–®–∏—Ä–∏–Ω–∞ (–º–º):</label>
                <input type="number" id="doorWidth" value="800" min="400" max="1200">
            </div>
            <div class="input-group">
                <label for="doorHeight">–í—ã—Å–æ—Ç–∞ (–º–º):</label>
                <input type="number" id="doorHeight" value="2000" min="1500" max="2500">
            </div>
            <button class="btn" onclick="updateDoorSize()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã</button>
        </div>

        <div class="section">
            <h2 class="section-title">–ü—Ä–æ—Ñ–∏–ª–∏</h2>

            <div class="input-group">
                <label for="profileType">–¢–∏–ø –ø—Ä–æ—Ñ–∏–ª—è:</label>
                <select id="profileType">
                    <option value="vertical">–°—Ç–æ–µ–≤–æ–π</option>
                    <option value="horizontal">–ü–æ–ø–µ—Ä–µ—á–Ω—ã–π</option>
                </select>
            </div>

            <div class="input-group">
                <label for="profileWidth">–®–∏—Ä–∏–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—è (–º–º):</label>
                <input type="number" id="profileWidth" value="80" min="30" max="150">
            </div>

            <div class="input-group">
                <label for="profileThickness">–¢–æ–ª—â–∏–Ω–∞ (–º–º):</label>
                <input type="number" id="profileThickness" value="40" min="20" max="80">
            </div>

            <div class="input-group">
                <label for="grooveDepth">–ì–ª—É–±–∏–Ω–∞ –ø–∞–∑–∞ (–º–º):</label>
                <input type="number" id="grooveDepth" value="10" min="0" max="20">
            </div>

            <div class="input-group">
                <label for="profileAllowance">–ü—Ä–∏–ø—É—Å–∫ (–º–º):</label>
                <input type="number" id="profileAllowance" value="5" min="0" max="50">
            </div>

            <button class="btn" onclick="addProfile()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
        </div>

    </div>

    <div class="visualization-panel">
        <div class="canvas-container">
            <canvas id="doorCanvas"></canvas>
        </div>

        <div class="dimensions-display">
            <h3 class="section-title">–†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–æ–≤</h3>
            <div id="dimensionsList">
                <div class="dimension-item">
                    <span class="dimension-label">–®–∏—Ä–∏–Ω–∞:</span>
                    <span class="dimension-value" id="widthDisplay">800 –º–º</span>
                </div>
                <div class="dimension-item">
                    <span class="dimension-label">–í—ã—Å–æ—Ç–∞:</span>
                    <span class="dimension-value" id="heightDisplay">2000 –º–º</span>
                </div>
            </div>
        </div>

        <div class="export-buttons">
            <button class="btn" onclick="exportToPDF()">üìÑ PDF</button>
            <button class="btn" onclick="exportToExcel()">üìä Excel</button>
            <button class="btn" onclick="saveDoor()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn btn-danger" onclick="clearDoor()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
    </div>
</div>

<div id="modal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h2 class="modal-header">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–∞</h2>
        <div id="modalContent"></div>
    </div>
</div>
{% endblock %}
